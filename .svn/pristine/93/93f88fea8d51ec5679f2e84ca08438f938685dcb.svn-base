/**
 * Created by asus001 on 2016/4/8.
 */
// 元素以及其他一些变量
var eleFlyElement = document.querySelector("#flyItem"), eleShopCart = document.querySelector(".company_login_in");
var numberItem = 0;
// 抛物线运动
var myParabola = funParabola(eleFlyElement, eleShopCart, {
    speed: 150, //抛物线速度
    curvature: -0.0005, //控制抛物线弧度
    complete: function() {
        eleFlyElement.style.visibility = "hidden";
        eleShopCart.querySelector(".cart_num").innerHTML = ++numberItem;
    }
});
// 绑定点击事件
if (eleFlyElement && eleShopCart) {

    [].slice.call(document.getElementsByClassName("buy_car")).forEach(function(button) {
        button.addEventListener("click", function(event) {
            // 滚动大小
            var scrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft || 0,
                scrollTop = document.documentElement.scrollTop || document.body.scrollTop || 0;
            eleFlyElement.style.left = event.clientX + scrollLeft + "px";
            eleFlyElement.style.top = event.clientY + scrollTop + "px";
            eleFlyElement.style.visibility = "visible";

            // 需要重定位
            myParabola.position().move();
        });
    });
}